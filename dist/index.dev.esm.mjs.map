{"version":3,"file":"index.dev.esm.mjs","sources":["../src/index.esm.js"],"sourcesContent":["// ES模块入口文件 - 将CommonJS模块转换为ES模块导出\nimport fs from 'fs';\nimport path from 'path';\nimport process from 'process';\nimport { execSync } from 'child_process';\n\n// 定义全局变量\nlet _temp_dir = null;\n// 检查是否为生产环境\nconst _is_production = process.env.NODE_ENV === \"production\";\n\n/**\n * 获取日志主目录和临时目录的路径\n * @returns {Array} 元组 [主目录路径, 临时目录路径]\n */\nfunction _get_log_dirs() {\n  // 主目录路径\n  const root_dir = process.cwd();\n  const main_log_dir = path.join(root_dir, \"logProLog\");\n\n  // 临时目录路径（使用进程ID确保多进程安全）\n  const temp_dir_name = `temp_${process.pid}`;\n  const temp_log_dir = path.join(main_log_dir, temp_dir_name);\n\n  return [main_log_dir, temp_log_dir];\n}\n\n/**\n * 检查进程是否存在\n * @param {number} pid 进程ID\n * @returns {boolean} 进程是否存在\n */\nfunction _pid_exists(pid) {\n  try {\n    // 在不同操作系统上检查进程是否存在\n    if (process.platform === 'win32') {\n      // Windows\n      execSync(`tasklist /FI \"PID eq ${pid}\" /NH`);\n      return true;\n    } else {\n      // Linux/Mac\n      process.kill(pid, 0);\n      return true;\n    }\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * 初始化日志目录，如果发现旧的临时目录则进行清理\n */\nfunction _initialize_log_dirs() {\n  // 如果是生产环境，不执行任何操作\n  if (_is_production) {\n    return;\n  }\n\n  const [main_log_dir, temp_log_dir] = _get_log_dirs();\n  _temp_dir = temp_log_dir;\n\n  // 创建主日志目录（如果不存在）\n  if (!fs.existsSync(main_log_dir)) {\n    fs.mkdirSync(main_log_dir, { recursive: true });\n  }\n\n  // 检查是否存在旧的临时目录（可能是由于上次程序异常退出导致）\n  const temp_parent_dir = path.dirname(temp_log_dir);\n  if (fs.existsSync(temp_parent_dir)) {\n    fs.readdirSync(temp_parent_dir).forEach(item => {\n      // 只处理temp_开头的目录\n      if (item.startsWith(\"temp_\") && fs.statSync(path.join(temp_parent_dir, item)).isDirectory()) {\n        try {\n          // 从目录名提取进程ID\n          const pid_str = item.split('_')[1];\n          const pid = parseInt(pid_str);\n          \n          // 检查进程是否仍在运行\n          if (!_pid_exists(pid)) {\n            // 进程不存在，可以安全删除临时目录\n            const old_temp_dir = path.join(temp_parent_dir, item);\n            fs.rmSync(old_temp_dir, { recursive: true, force: true });\n          }\n        } catch (e) {\n          // 目录名格式不正确或其他错误，不处理\n          console.error(`清理旧临时目录时出错: ${e.message}`);\n        }\n      }\n    });\n  }\n\n  // 创建新的临时目录\n  if (!fs.existsSync(temp_log_dir)) {\n    fs.mkdirSync(temp_log_dir, { recursive: true });\n  }\n}\n\n/**\n * 将内容写入到根目录的logProLog文件夹下的指定文件中，支持多种数据类型的输出。\n * 在生产环境中，此函数不执行任何操作。\n *\n * @param {any} content 要输出的内容，可以是任意类型（字符串、对象、数组等）\n * @param {Object} [options] 配置选项\n * @param {string} [options.filename=\"default.txt\"] 输出文件名，支持各种扩展名如.txt、.json、.js等。如果没有提供后缀，将自动添加.txt\n * @param {boolean} [options.clear_on_restart=true] 是否在服务重启时清空输出文件\n * @param {boolean} [options.show_timestamp=false] 是否显示时间戳\n * @param {number} [options.line_breaks=1] 每条记录之间的空行数，默认为1（即一条记录后空一行）\n * @param {string|null} [options.folder=null] 子文件夹路径，例如'block'或'block/text'\n * @param {boolean} [options.forceWrite=true] 是否强制使用写入模式（覆盖已有内容）\n */\nfunction logPro(content, options = {}) {\n  // 处理配置参数\n  let filename = options.filename || \"default.txt\";\n  const clear_on_restart = options.clear_on_restart !== undefined ? options.clear_on_restart : true;\n  const show_timestamp = options.show_timestamp || false;\n  const line_breaks = options.line_breaks !== undefined ? options.line_breaks : 1;\n  const folder = options.folder || null;\n  const forceWrite = options.forceWrite !== undefined ? options.forceWrite : true;\n\n  // 在生产环境中，此函数不执行任何操作\n  if (_is_production) {\n    return;\n  }\n\n  // 确保日志目录已初始化\n  if (_temp_dir === null) {\n    _initialize_log_dirs();\n  }\n\n  const [main_log_dir, temp_log_dir] = _get_log_dirs();\n\n  // 检查文件名是否包含后缀，如果不包含则添加.txt后缀\n  if (!filename.includes(\".\")) {\n    filename = `${filename}.txt`;\n  }\n\n  // 根据clear_on_restart参数决定文件的存放位置和命名\n  let log_dir;\n  let log_file;\n  \n  if (clear_on_restart) {\n    // 非持久化文件，放在临时目录中\n    log_dir = temp_log_dir;\n    // 如果指定了folder，则在临时目录下创建相应的子文件夹\n    if (folder) {\n      log_dir = path.join(log_dir, folder);\n    }\n    log_file = path.join(log_dir, filename);\n  } else {\n    // 持久化文件，添加前缀并放在主目录中（不考虑folder参数）\n    log_dir = main_log_dir;\n    if (!filename.startsWith(\"persistent_\")) {\n      filename = `persistent_${filename}`;\n    }\n    log_file = path.join(log_dir, filename);\n  }\n\n  // 确保目录存在\n  if (!fs.existsSync(log_dir)) {\n    fs.mkdirSync(log_dir, { recursive: true });\n  }\n\n  // 处理不同类型的内容\n  let output;\n  if (typeof content === 'object') {\n    try {\n      // 尝试将内容格式化为JSON字符串\n      output = JSON.stringify(content, null, 2);\n    } catch {\n      // 如果无法转为JSON，则直接转为字符串\n      output = String(content);\n    }\n  } else {\n    output = String(content);\n  }\n\n  // 构建输出字符串\n  let formatted_output = \"\";\n\n  // 添加时间戳（如果需要）\n  if (show_timestamp) {\n    const now = new Date();\n    const timestamp = now.toISOString().replace('T', ' ').substring(0, 23);\n    formatted_output += `[${timestamp}]\\n`;\n  }\n\n  // 添加内容\n  formatted_output += output;\n\n  // 添加结尾的换行\n  formatted_output += '\\n'.repeat(line_breaks + 1);\n\n  // 根据参数和文件状态选择写入模式\n  // 1. 如果clear_on_restart=false，则始终使用追加模式\n  // 2. 如果clear_on_restart=true，则根据forceWrite和文件初始化情况决定\n  let write_mode = 'a';\n  if (clear_on_restart) {\n    if (\n      forceWrite ||\n      !fs.existsSync(log_file) ||\n      !logPro._initialized_files\n    ) {\n      write_mode = 'w';\n      // 创建已初始化文件集合（如果不存在）\n      if (!logPro._initialized_files) {\n        logPro._initialized_files = new Set();\n      }\n      // 记录此文件已被初始化\n      logPro._initialized_files.add(log_file);\n    }\n  }\n\n  // 写入文件\n  fs.writeFileSync(log_file, formatted_output, { encoding: 'utf-8', flag: write_mode });\n}\n\n/**\n * 将源目录中的所有文件移动到目标目录\n *\n * @param {string} source_dir 源目录路径\n * @param {string} target_dir 目标目录路径\n */\nfunction _migrate_files(source_dir, target_dir) {\n  if (_is_production || !fs.existsSync(source_dir)) {\n    return;\n  }\n\n  // 确保目标目录存在\n  if (!fs.existsSync(target_dir)) {\n    fs.mkdirSync(target_dir, { recursive: true });\n  }\n\n  // 首先清空目标目录中的非持久化文件（处理带时间戳文件名的情况）\n  if (fs.existsSync(target_dir)) {\n    fs.readdirSync(target_dir).forEach(item => {\n      // 保留持久化文件和临时目录\n      if (item.startsWith(\"persistent_\") || item.startsWith(\"temp_\")) {\n        return;\n      }\n\n      const target_path = path.join(target_dir, item);\n      try {\n        if (fs.statSync(target_path).isFile()) {\n          fs.unlinkSync(target_path);\n        } else if (fs.statSync(target_path).isDirectory()) {\n          fs.rmSync(target_path, { recursive: true, force: true });\n        }\n      } catch (e) {\n        console.error(`删除目标目录文件/文件夹 ${target_path} 时出错: ${e.message}`);\n      }\n    });\n  }\n\n  // 遍历源目录中的所有文件和子目录\n  fs.readdirSync(source_dir).forEach(item => {\n    const source_path = path.join(source_dir, item);\n    const target_path = path.join(target_dir, item);\n\n    if (fs.statSync(source_path).isFile()) {\n      // 如果目标目录已存在同名文件，先删除\n      if (fs.existsSync(target_path)) {\n        fs.unlinkSync(target_path);\n      }\n      // 移动文件\n      fs.renameSync(source_path, target_path);\n    } else if (fs.statSync(source_path).isDirectory()) {\n      // 如果是子目录，递归处理\n      _migrate_files(source_path, target_path);\n    }\n  });\n}\n\n/**\n * 清理指定目录中的所有非持久化文件\n *\n * @param {string} directory 要清理的目录路径\n */\nfunction _cleanup_non_persistent_files(directory) {\n  if (_is_production || !fs.existsSync(directory)) {\n    return;\n  }\n\n  fs.readdirSync(directory).forEach(item => {\n    // 跳过临时目录和持久化文件\n    if (item.startsWith(\"temp_\") || item.startsWith(\"persistent_\")) {\n      return;\n    }\n\n    const path_item = path.join(directory, item);\n    try {\n      if (fs.statSync(path_item).isFile()) {\n        fs.unlinkSync(path_item);\n      }\n    } catch (e) {\n      console.error(`删除文件 ${path_item} 时出错: ${e.message}`);\n    }\n  });\n}\n\n/**\n * 执行清理和迁移操作：\n * 1. 清理主目录中的非持久化文件\n * 2. 将临时目录中的文件移动到主目录\n * 3. 删除临时目录\n */\nfunction _cleanup() {\n  // 在生产环境中，不执行任何操作\n  if (_is_production) {\n    return;\n  }\n\n  // 如果临时目录未初始化，则无需清理\n  if (_temp_dir === null) {\n    return;\n  }\n\n  const [main_log_dir, temp_log_dir] = _get_log_dirs();\n\n  try {\n    // 1. 清理主目录中的非持久化文件\n    _cleanup_non_persistent_files(main_log_dir);\n\n    // 2. 将临时目录中的文件移动到主目录\n    _migrate_files(temp_log_dir, main_log_dir);\n\n    // 3. 删除临时目录\n    if (fs.existsSync(temp_log_dir)) {\n      fs.rmSync(temp_log_dir, { recursive: true, force: true });\n    }\n  } catch (e) {\n    console.error(`执行清理操作时出错: ${e.message}`);\n  }\n}\n\n/**\n * 清空logProLog目录下的文件\n *\n * @param {boolean} include_persistent 是否包括持久化文件，默认为false\n */\nfunction clearLogProLogs(include_persistent = false) {\n  // 在生产环境中，不执行任何操作\n  if (_is_production) {\n    return;\n  }\n\n  const [main_log_dir] = _get_log_dirs();\n\n  if (fs.existsSync(main_log_dir)) {\n    try {\n      if (include_persistent) {\n        // 如果包括持久化文件，则删除整个目录并重新创建\n        fs.rmSync(main_log_dir, { recursive: true, force: true });\n        fs.mkdirSync(main_log_dir, { recursive: true });\n      } else {\n        // 否则，只删除非持久化文件\n        fs.readdirSync(main_log_dir).forEach(item => {\n          // 跳过持久化文件\n          if (item.startsWith(\"persistent_\")) {\n            return;\n          }\n\n          const item_path = path.join(main_log_dir, item);\n          try {\n            if (fs.statSync(item_path).isFile()) {\n              fs.unlinkSync(item_path);\n            } else if (fs.statSync(item_path).isDirectory()) {\n              fs.rmSync(item_path, { recursive: true, force: true });\n            }\n          } catch (e) {\n            console.error(`清空logProLog目录时出错: ${e.message}`);\n          }\n        });\n      }\n    } catch (e) {\n      console.error(`清空logProLog目录时出错: ${e.message}`);\n    }\n  }\n}\n\n// 注册程序退出时的清理函数\nif (!_is_production) {\n  process.on('exit', _cleanup);\n  // 捕获意外终止信号\n  ['SIGINT', 'SIGTERM', 'SIGQUIT'].forEach(signal => {\n    process.on(signal, () => {\n      _cleanup();\n      process.exit(0);\n    });\n  });\n}\n\n// 在导入模块时初始化日志目录（非生产环境）\nif (!_is_production) {\n  _initialize_log_dirs();\n}\n\n// ES模块导出\nexport {\n  logPro,\n  clearLogProLogs,\n  _initialize_log_dirs,\n  _cleanup\n};\n\n// 默认导出\nexport default {\n  logPro,\n  clearLogProLogs,\n  _initialize_log_dirs,\n  _cleanup\n};\n"],"names":[],"mappings":"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"}